<!DOCTYPE html>
<html>
<head>
    <title>教师API调试页面</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>教师API调试测试</h1>
    
    <div>
        <h3>登录状态检查</h3>
        <button onclick="checkLoginStatus()">检查登录状态</button>
        <div id="login-result"></div>
    </div>
    
    <div>
        <h3>获取课程列表</h3>
        <button onclick="testGetCourses()">获取课程列表</button>
        <div id="courses-result"></div>
    </div>
    
    <div>
        <h3>获取统计数据</h3>
        <button onclick="testGetStats()">获取统计数据</button>
        <div id="stats-result"></div>
    </div>
    
    <script>
        async function checkLoginStatus() {
            try {
                const response = await fetch('/api/auth/check', {
                    credentials: 'include'
                });
                const result = await response.json();
                document.getElementById('login-result').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('login-result').innerHTML = '<div style="color: red;">错误: ' + error.message + '</div>';
            }
        }
        
        async function testGetCourses() {
            try {
                const response = await fetch('/api/teacher/courses', {
                    credentials: 'include'
                });
                const result = await response.json();
                document.getElementById('courses-result').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('courses-result').innerHTML = '<div style="color: red;">错误: ' + error.message + '</div>';
            }
        }
        
        async function testGetStats() {
            try {
                const response = await fetch('/api/teacher/dashboard/stats', {
                    credentials: 'include'
                });
                const result = await response.json();
                document.getElementById('stats-result').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('stats-result').innerHTML = '<div style="color: red;">错误: ' + error.message + '</div>';
            }
        }
    </script>
</body>
</html> 